<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <title>Taming the BEAST | Game Edition</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://pixijs.download/v8.x/pixi.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pixi/sound@5.2.2/dist/pixi-sound.js"></script>

    <style>
        body { margin: 0; overflow: hidden; background-color: #f8f9fa; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        /* Estilo de la Barra de Navegaci√≥n (basado en lo que pasaste) */
        .navbar {
            background: #f8f9fa;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #dee2e6;
            position: absolute; width: 100%; z-index: 10;
        }
        .navbar-brand { font-weight: bold; color: #333; text-decoration: none; font-size: 1.2rem; }
        
        /* Contenedor de UI del Juego */
        #game-ui {
            position: absolute; top: 70px; left: 20px;
            z-index: 5; pointer-events: none;
        }
        .stat-box {
            background: rgba(255,255,255,0.9);
            padding: 10px 20px; border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 10px; font-weight: bold;
        }

        /* Botones de Armas (Pills) */
        #weapon-select {
            position: absolute; bottom: 30px; left: 50%;
            transform: translateX(-50%); display: flex; gap: 10px; z-index: 5;
        }
        .nav-link {
            padding: 10px 20px; background: #007bff; color: white;
            border-radius: 50px; text-decoration: none; font-weight: bold;
            transition: 0.3s; border: none; cursor: pointer;
        }
        .nav-link.active { background: #0056b3; box-shadow: 0 0 10px rgba(0,123,255,0.5); }

        #overlay {
            position: absolute; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9);
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; z-index: 20;
        }
    </style>
</head>

<body>

    <div id="overlay">
        <h1 style="color: #333;">Taming the BEAST</h1>
        <p>Tutorial: C√≥mo sobrevivir en el mapa</p>
        <button class="nav-link" style="font-size: 20px;" onclick="startGame()">EMPEZAR TUTORIAL</button>
    </div>

    <nav class="navbar">
        <a class="navbar-brand" href="#">
            <img src="https://taming-the-beast.org/images/logo_bw.svg" style="height:1.5em; vertical-align:middle; margin-right:10px;">
            Taming the BEAST / Game
        </a>
    </nav>

    <div id="game-ui">
        <div class="stat-box">üí∞ ORO: <span id="gold">50</span></div>
        <div class="stat-box" style="color: #d9534f;">‚ù§Ô∏è VIDA: 100%</div>
    </div>

    <div id="weapon-select">
        <button class="nav-link active" onclick="setWeapon('AK')">AK-47</button>
        <button class="nav-link" onclick="setWeapon('SNIPER')">SNIPER</button>
        <button class="nav-link" onclick="setWeapon('MG')">MACHINE GUN</button>
    </div>

    <script>
        const app = new PIXI.Application();
        let player, bullets = [], weapon = 'AK';

        async function startGame() {
            document.getElementById('overlay').style.display = 'none';
            
            await app.init({ background: '#74b816', resizeTo: window, antialias: true });
            document.body.appendChild(app.canvas);

            // Sonidos (Aseg√∫rate de tener estos archivos en tu GitHub)
            PIXI.sound.add('shoot', 'disparo.mp3');
            PIXI.sound.add('bg', 'musica_fondo.mp3');
            PIXI.sound.play('bg', { loop: true, volume: 0.1 });

            // Jugador
            player = new PIXI.Container();
            player.x = app.screen.width / 2;
            player.y = app.screen.height / 2;
            app.stage.addChild(player);

            const body = new PIXI.Graphics().beginFill(0xee8033).lineStyle(4, 0x000).drawCircle(0, 0, 30).endFill();
            const hL = new PIXI.Graphics().beginFill(0xee8033).lineStyle(3, 0x000).drawCircle(-25, 20, 10).endFill();
            const hR = new PIXI.Graphics().beginFill(0xee8033).lineStyle(3, 0x000).drawCircle(25, 20, 10).endFill();
            player.addChild(body, hL, hR);

            // Disparo
            window.addEventListener('mousedown', () => {
                PIXI.sound.play('shoot');
                const b = new PIXI.Graphics().beginFill(0x333).drawCircle(0, 0, 6).endFill();
                b.x = player.x; b.y = player.y;
                const angle = player.rotation + Math.PI/2;
                const speed = weapon === 'SNIPER' ? 25 : 15;
                b.vx = Math.cos(angle) * speed;
                b.vy = Math.sin(angle) * speed;
                app.stage.addChild(b);
                bullets.push(b);
            });

            app.ticker.add(() => {
                const m = app.renderer.events.pointer;
                player.rotation = Math.atan2(m.y - player.y, m.x - player.x) - Math.PI/2;

                for (let i = bullets.length - 1; i >= 0; i--) {
                    bullets[i].x += bullets[i].vx;
                    bullets[i].y += bullets[i].vy;
                    if(bullets[i].x < 0 || bullets[i].x > app.screen.width || bullets[i].y < 0 || bullets[i].y > app.screen.height) {
                        app.stage.removeChild(bullets[i]);
                        bullets.splice(i, 1);
                    }
                }
            });
        }

        function setWeapon(type) {
            weapon = type;
            const btns = document.querySelectorAll('.nav-link');
            btns.forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
